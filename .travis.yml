language: node_js
node_js:
- 8.9.2
notifications:
  email:
    on_success: change
    on_failure: always
script:
- npm test
before_deploy:
- npm run build
deploy:
  skip_cleanup: true
  provider: npm
  email: sandbox_JSUI@coveo.com
  api_key:
    secure: fT6k8deaDD1IKvHD9RYja4/Gqk174KRaBjOOStrGBGn25grhQ6+E0KCvyOvpzIZMERqtfsnm/owElwYHOGdclJy3//wUCUY9WjRKgDmcq4PyjuvGqmx9OjyYX7NyAvLBq81I+dmmdAjSWWdxKquqMYGH0WMb1LZp+2XrZ+rV1cLJ4ylhRKD0NKltTCl0ZMuT9VKR8kulBln0xjz7phNhFfKmPQCtkqlPjVGz+gNgX3Z4EEfEgifzGEOLxJ/OprbC3L6mH+XeIV0xvrdp7dFkiySUQA0HoN2gfW2e1IoCkjw+fBu4OKBjQ6KKd4XQQJV3gA/mmD+E0KkihSFTDGQ5hDjsNik4CyN+q1IA/2L0AEoYLkxLG3vNBdaNE6mlempIYq24/sY3M4HXga48u6dtegjfsjhLBnPQGmbCnh0yFF9vBsfWn1w+lpmJN6Y1NJR2qoh4sTDdiHhUz7KX2Hta/5d7s3lbu6nYoAU9IZNCKEGpQz9ytMXaCitknHzfHthqelqcK+Lzy4SPUHQcGynF4PEGddiL0Y161y6STGNlDfe9eQRf6wNU8N57meBIpxMiiNkRV2WwYBdNSOk4oUI0nNS5vFJATZAEiyb+xzFwhkANgDlWtp6zTh51JVJ5fMfvDdvhzIpa7giYasl+cJLDhdkNAqIetsT7T5ukRn+ZOD8=
  on:
    tags: true
    repo: coveo/exponential-backoff
    branch: master
