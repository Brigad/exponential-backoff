language: node_js
node_js:
- 8.9.2
notifications:
  email:
    on_success: change
    on_failure: always
script:
- npm test
before_deploy:
- npm run build
deploy:
  skip_cleanup: true
  provider: npm
  email: sandbox_JSUI@coveo.com
  api_key:
    secure: rlkz2BlPp+sZX3p9JB2YV6RRXBjvLAnP/KCSj7kY/BCZQhChlr3nZEIH55TMZM0M535WFFjOBa3DJ5ND4/4jce/QS/1eulp1Rd7yB63+jPwN4OjoqQZxiRMhnJz94O2ZX1VohJ2hJSRG7MVEbQhAI0Zup0GkXUVGS7j/EO/NBEwEX7/+h69XPT8OUsCYaeQzpcERTmuZDjJjUx0/3pW8GQtL9Gphkmz2KgbhCmFhqSICAHEigtrmlyQ/rnsZNPnTxRaV2nulY/tIPCtnNrSEYX3Q3VT1RbIaxeGXb8HGZSFv87WqZA8K/YdjMkKySBReNur9hhrEvpUcfiMopqXuLAcL1VCKyPCJXHgi5s5G6KppN4ZCzayD9YC7/R8Dp9BD/k5Pfwx1MSqun3D//x2r9j5nAeZnwFmhUMCD8tbTyLcrW4j+IUNexXsnA+4X6rTuZ1gtLyvyIBdOsOabpPFxoEauqxYEZPD8+8jhAWqOZrqimZKgsffkv6/8wQse0GyhQFrmRFZLAZQhX4t/CyDavj0n2wFyKcMWEH3pGqWAzF5eoNcyUL9JI2wlzY3kedv8DD8nMqSbiNxfYzV28ula9jPa5JQRlfh+c0zgH+sBrnm6aY0bHXuUdLPs9jsdD8yd7yIU6LDtvj8HYs4cQdngsFnBaJA9Lr1xkjwdl1iwnBM=
  on:
    tags: true
    repo: coveo/exponential-backoff
    branch: master
